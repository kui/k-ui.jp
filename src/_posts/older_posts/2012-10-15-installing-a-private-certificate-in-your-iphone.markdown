---
layout: post
title: "プライベートな CA で自宅サーバと通信するための iPhone の設定"
date: 2012-10-15 21:25
comments: true
categories: 
---

プライベートな CA によって署名された証明書（もしくは自己署名証明書、オレオレ証明書）を
使った HTTP サーバと iPhone が通信するための設定について書く。

SSL サーバ証明書なら、ブラウザから警告でるだけなので気にならなければ iPhone
設定いらない。しかし、クライアント証明書となると、その証明書をインストールする必要がある。

以下、証明書をインストールする手順。

1. iPhone をホストマシンに接続。Windows, Mac どちらでも問題ない。
2. iPhone Configuration Utility のインストール。
   * [Windows 版のダウンロードページ](http://support.apple.com/kb/DL1466)、
   * [Mac OS X 版のダウンロードページ](http://support.apple.com/kb/DL1465)。
3. 「iPhone 構成ユーティリティ」起動。Spotlight で入力したほうが早いかも。
4. 左カラムの「ライブラリ」の「構成プロファイル」を選択。
5. 左上の「✔ 新規 」みたいな水色のボタンを押す。
6. 右上に新たに作成されたプロファイルを選択し、「一般」の項目を適当に埋める。<br>
   ![参考画像: 一般の項目を埋めてる様子](/assets/2012/10/iphone-configuration-utility-ss.jpg)
7. 「一般」などの項目のカラムの下の方にある「資格情報」を選択。
8. インストールしたい証明書ファイルを選択し、その証明書に対するパスワードを入力。
9. 左カラムのデバイスから、インストールしたい iPhone を選ぶ。
10. 「構成プロファイル」タブをクリック。
11. 「インストール」ボタンをクリック。
12. iPhone の画面が遷移して右上の「インストール」ボタンを押す。あとは雰囲気で。<br>
    ![参考画像: インストール後の iPhone の画面](/assets/2012/10/installing-a-profile-in-iphone.jpg)

あとは、SSL 証明書を使ってるサーバと通信してみてるテストをすれば、おしまい。

